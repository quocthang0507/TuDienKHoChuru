@using WebTuDienKHoChuru.Models.DataAccess

@{
	ViewData["Title"] = "Quản lý Từ điển";
	Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="row">
	<div class="col-4">
		<div class="form-group">
			<label for="selectDictType">Loại từ điển</label>
			<select class="form-select form-control" id="selectDictType">
				@foreach (DICT_TYPE t in ViewBag.DictTypes)
				{
					@if (t.DictType == ViewBag.DictTypeID)
					{
						<option value="@t.DictType" selected>@t.Description</option>
					}
					else
					{
						<option value="@t.DictType">@t.Description</option>
					}
				}
			</select>
		</div>
		<div class="form-group">
			<label for="wordList">Danh sách từ vựng</label>
			<ul class="list-group" id="wordList">
			</ul>
			<nav aria-label="Trang">
				<ul class="pagination justify-content-center">
					<li class="page-item prev"><a class="page-link" href="#">Trước</a></li>
					@for (int p = 1; p <= ViewBag.PageNumbers; p++)
					{
						string url = $"Dictionary/Manage?dictTypeID={ViewBag.DictTypeID}&pageNumber={p}";
						@if (p == ViewBag.SelectedPage)
						{
							<li class="page-item active"><a class="page-link" href="#">@p</a></li>
						}
						else
						{
							<li class="page-item"><a class="page-link" href="@url">@p</a></li>
						}
					}
					<li class="page-item next"><a class="page-link" href="#">Sau</a></li>
				</ul>
			</nav>
		</div>
	</div>
	<div class="col-8">

	</div>
</div>

@section Scripts{
	<script>
		$(document).ready(function () {
			$("#selectDictType").change(function () {
				var id = $('#selectDictType').val();
				window.location = '/Dictionary/Manage/dictTypeID=' + id;
			});

			var prev = $(".pagination li.prev");
			var next = $(".pagination li.next");

			next.click(function () {
				$('li.active').removeClass('active').next().addClass('active');
			});

			prev.click(function () {
				$('li.active').removeClass('active').prev().addClass('active');
			});
		});
	</script>
}