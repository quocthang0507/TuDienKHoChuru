@using WebTuDienKHoChuru.Utils
@using WebTuDienKHoChuru.Models
@model ChangePasswordModel

@{
	ViewData["Title"] = "Đổi mật khẩu";
}

<div class="login-form">
	@using (Html.BeginForm("ChangePassword", "Login", FormMethod.Post))
	{
		<div class="imgContainer">
			<img src="~/img/login-avatar.jpg" alt="login" class="imgLogin" />
		</div>
		<h6 class="text-sm-center">@Constants.Title</h6>
		<h4 class="text-center">Đổi mật khẩu</h4>
		<fieldset>
			@Html.AntiForgeryToken()
			@Html.ValidationSummary(true)
			@if (@ViewBag.Message != null)
			{
				<div style="color: red;" id="message">
					@ViewBag.Message
				</div>
			}
			<div class="form-group">
				@Html.TextBoxFor(x => x.Username, new
		   {
			   @class = "form-control",
			   placeholder = "Tên đăng nhập",
			   required = "required"
		   })
				@Html.ValidationMessageFor(x => x.Username)
			</div>
			<div class="form-group">
				@Html.PasswordFor(x => x.OldPassword, new
				{
					@class = "form-control",
					placeholder = "Mật khẩu cũ",
					required = "required"
				})
				@Html.ValidationMessageFor(x => x.OldPassword)
			</div>
			<div class="form-group">
				@Html.PasswordFor(x => x.NewPassword, new
				{
					@class = "form-control",
					placeholder = "Mật khẩu mới",
					required = "required"
				})
				@Html.ValidationMessageFor(x => x.NewPassword)
			</div>
			<div class="form-group">
				@Html.PasswordFor(x => x.ConfirmedPassword, new
				{
					@class = "form-control",
					placeholder = "Mật khẩu xác nhận",
					required = "required"
				})
				@Html.ValidationMessageFor(x => x.ConfirmedPassword)
			</div>
			<div class="form-group">
				<input type="submit" value="Đổi mật khẩu" class="button" />
			</div>
		</fieldset>
	}
</div>

@section Styles{
	<link rel="stylesheet" href="~/css/login.css" asp-append-version="true" />
}
@section Scripts{
	<script>
		setTimeout(function () {
			if ($('#message').length > 0) {
				$('#message').fadeOut(500, function () { $(this).remove(); });
			}
		}, 3000)
	</script>
}