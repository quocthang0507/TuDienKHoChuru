function showLog(n,t){console.log(n+" "+(t||""))}function startUserMedia(n){let t=audio_context.createMediaStreamSource(n);showLog("Media stream created.");recorder=new Recorder(t);showLog("Recorder initialized.")}function startRecording(n){recorder&&recorder.record();n.disabled=!0;n.nextElementSibling.disabled=!1;showLog("Recording...",null)}function stopRecording(n){recorder&&recorder.stop();n.disabled=!0;n.previousElementSibling.disabled=!1;recorder&&recorder.exportWAV(n=>{handleRecorder(n)});showLog("Stopped recording.",null);recorder.clear()}function handleRecorder(n){switch(n.type){case"audio/wav":case"audio/mpeg":case"audio/ogg":break;default:alert("Không hỗ trợ các định dạng tập tin âm thanh khác, vui lòng chỉ chọn các tập tin có đuôi như sau: *.mp3, *.wav, *.ogg");return}let t=URL.createObjectURL(n);var i=document.getElementById("audioPreview"),r=document.getElementById("audioSource");r.src=t;i.load()}let audio_context,recorder;$(document).ready(function(){$("#selectDictType").change(function(){var n=$("#selectDictType").val();window.location="/ManageDictionary?dictTypeID="+n});var n=$(".pagination li.prev"),t=$(".pagination li.next");t.click(function(){$("li.active").removeClass("active").next().addClass("active")});n.click(function(){$("li.active").removeClass("active").prev().addClass("active")});$("#inputImage").on("change",function(){var n=document.querySelector("[type=file]"),t;n.files&&n.files[0]&&(t=new FileReader,t.onload=function(n){document.getElementById("divImagePreview").innerHTML='<img class="imgPreview" src="'+n.target.result+'"/>'},t.readAsDataURL(n.files[0]))});try{window.AudioContext=window.AudioContext||window.webkitAudioContext;navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia;window.URL=window.URL||window.webkitURL;audio_context=new AudioContext;showLog("AudioContext set up.");showLog("navigator.getUserMedia "+(navigator.getUserMedia?"available.":"not present!"))}catch(i){alert("Trình duyệt này không hỗ trợ web audio!")}navigator.getUserMedia({audio:!0},startUserMedia,function(n){showLog("No live audio input: "+n);alert("Vui lòng cho chép trang web này sử dụng microphone của bạn, sau đó tải lại trang để cập nhật trạng thái.")});inputAudioFile.addEventListener("change",n=>handleRecorder(n.target.files[0]))});